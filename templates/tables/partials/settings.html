{% load i18n %}

<!-- OOB Tabbar Update -->
<ion-footer hx-swap-oob="innerHTML:#section-tabbar">
{% include "tables/partials/tabbar.html" with current_view='settings' %}
</ion-footer>

<ion-content class="ion-padding">
    <!-- Header -->
    <div class="mb-6">
        <h1 class="text-2xl font-bold text-gray-900">{% trans "Settings" %}</h1>
        <p class="text-gray-500">{% trans "Configure tables module behavior" %}</p>
    </div>

    <ion-card>
        <ion-card-content>
            <form method="post"
                hx-post="{% url 'tables:settings' %}"
                hx-target="#dashboard-content">
                {% csrf_token %}

                <!-- Display Settings -->
                <div class="mb-6">
                    <h3 class="text-lg font-medium text-gray-800 mb-4">{% trans "Display" %}</h3>

                    <ion-list>
                        <ion-item>
                            <ion-checkbox name="show_table_timer" {% if config.show_table_timer %}checked{% endif %}></ion-checkbox>
                            <ion-label class="ml-3">
                                <h3>{% trans "Show Table Timer" %}</h3>
                                <p>{% trans "Display elapsed time since table was occupied" %}</p>
                            </ion-label>
                        </ion-item>

                        <ion-item>
                            <ion-checkbox name="show_table_total" {% if config.show_table_total %}checked{% endif %}></ion-checkbox>
                            <ion-label class="ml-3">
                                <h3>{% trans "Show Table Total" %}</h3>
                                <p>{% trans "Display current sale total on table cards" %}</p>
                            </ion-label>
                        </ion-item>
                    </ion-list>
                </div>

                <!-- Default Values -->
                <div class="mb-6">
                    <h3 class="text-lg font-medium text-gray-800 mb-4">{% trans "Default Values" %}</h3>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <ion-label class="text-sm text-gray-600">{% trans "Default Table Capacity" %}</ion-label>
                            <ion-input
                                type="number"
                                name="default_table_capacity"
                                value="{{ config.default_table_capacity }}"
                                min="1"
                                max="50"
                                class="mt-1">
                            </ion-input>
                        </div>
                    </div>
                </div>

                <!-- Behavior -->
                <div class="mb-6">
                    <h3 class="text-lg font-medium text-gray-800 mb-4">{% trans "Behavior" %}</h3>

                    <ion-list>
                        <ion-item>
                            <ion-checkbox name="auto_close_on_payment" {% if config.auto_close_on_payment %}checked{% endif %}></ion-checkbox>
                            <ion-label class="ml-3">
                                <h3>{% trans "Auto Close on Payment" %}</h3>
                                <p>{% trans "Automatically close table when sale is completed" %}</p>
                            </ion-label>
                        </ion-item>

                        <ion-item>
                            <ion-checkbox name="require_table_for_order" {% if config.require_table_for_order %}checked{% endif %}></ion-checkbox>
                            <ion-label class="ml-3">
                                <h3>{% trans "Require Table for Orders" %}</h3>
                                <p>{% trans "Require a table to be selected before creating a sale" %}</p>
                            </ion-label>
                        </ion-item>
                    </ion-list>
                </div>

                <!-- Actions -->
                <div class="flex justify-end pt-4 border-t">
                    <ion-button type="submit">
                        <ion-icon slot="start" name="checkmark"></ion-icon>
                        {% trans "Save Settings" %}
                    </ion-button>
                </div>
            </form>
        </ion-card-content>
    </ion-card>
</ion-content>
